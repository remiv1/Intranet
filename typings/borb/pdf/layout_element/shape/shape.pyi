"""
This type stub file was generated by pyright.
"""

import functools
import typing
from borb.pdf.color.color import Color
from borb.pdf.layout_element.layout_element import LayoutElement
from borb.pdf.page import Page

"""
Represents a drawable element composed of one or more polygons  or lines that can be rendered within a PDF layout.

This class supports a variety of geometric shapes, such as polygons, rectangles,
and custom line-based designs. It allows for detailed control over styling
attributes, including stroke color, fill color, line width, and positioning.

The `Shape` class is also responsible for defining the shape's boundaries and
supports transformations like scaling, rotating, and mirroring. Shapes are
commonly used for vector-based graphics in PDF documents.

It inherits from `LayoutElement`, allowing it to be integrated into a larger
document structure.
"""
PolygonType: typing.TypeAlias = typing.List[typing.Tuple[float, float]]
class Shape(LayoutElement):
    """
    Represents a drawable element composed of one or more polygons  or lines that can be rendered within a PDF layout.

    This class supports a variety of geometric shapes, such as polygons, rectangles,
    and custom line-based designs. It allows for detailed control over styling
    attributes, including stroke color, fill color, line width, and positioning.

    The `Shape` class is also responsible for defining the shape's boundaries and
    supports transformations like scaling, rotating, and mirroring. Shapes are
    commonly used for vector-based graphics in PDF documents.

    It inherits from `LayoutElement`, allowing it to be integrated into a larger
    document structure.
    """
    def __init__(self, coordinates: typing.Union[PolygonType, typing.List[PolygonType]], background_color: typing.Optional[Color] = ..., border_color: typing.Optional[Color] = ..., border_dash_pattern: typing.List[int] = ..., border_dash_phase: int = ..., border_width_bottom: int = ..., border_width_left: int = ..., border_width_right: int = ..., border_width_top: int = ..., dash_pattern: typing.List[int] = ..., dash_phase: int = ..., fill_color: typing.Optional[Color] = ..., horizontal_alignment: LayoutElement.HorizontalAlignment = ..., line_width: int = ..., margin_bottom: int = ..., margin_left: int = ..., margin_right: int = ..., margin_top: int = ..., padding_bottom: int = ..., padding_left: int = ..., padding_right: int = ..., padding_top: int = ..., stroke_color: typing.Optional[Color] = ..., vertical_alignment: LayoutElement.VerticalAlignment = ...) -> None:
        """
        Initialize a new `Shape` object for rendering a line-art element in a PDF.

        This constructor allows customization of various layout and style properties
        for the shape, such as coordinates, margins, padding, borders, dash patterns,
        and alignment. These properties define the appearance and positioning of the
        shape within the PDF page.

        :param coordinates:            Coordinates defining the shape, as a single polygon
                                       or a list of polygons.
        :param background_color:       Optional background color for the shape's container.
        :param border_color:           Optional border color for the shape's container.
        :param border_dash_pattern:    Dash pattern used for the container's border lines.
        :param border_dash_phase:      Phase offset for the dash pattern in the container's borders.
        :param border_width_bottom:    Width of the bottom border of the container.
        :param border_width_left:      Width of the left border of the container.
        :param border_width_right:     Width of the right border of the container.
        :param border_width_top:       Width of the top border of the container.
        :param dash_pattern:           Dash pattern used for the shape's stroke.
        :param dash_phase:             Phase offset for the dash pattern in the shape's stroke.
        :param fill_color:             Optional fill color for the shape's interior.
        :param horizontal_alignment:   Horizontal alignment of the shape (default is LEFT).
        :param line_width:             Width of the shape's stroke.
        :param margin_bottom:          Space between the shape and the element below it.
        :param margin_left:            Space between the shape and the left page margin.
        :param margin_right:           Space between the shape and the right page margin.
        :param margin_top:             Space between the shape and the element above it.
        :param padding_bottom:         Padding inside the container at the bottom.
        :param padding_left:           Padding inside the container on the left side.
        :param padding_right:          Padding inside the container on the right side.
        :param padding_top:            Padding inside the container at the top.
        :param stroke_color:           Color of the shape's stroke (default is BLACK).
        :param vertical_alignment:     Vertical alignment of the shape (default is TOP).
        """
        ...
    
    def get_polygons(self) -> typing.Union[PolygonType, typing.List[PolygonType]]:
        """
        Retrieve the polygons that define this Shape.

        This method returns the polygon(s) that make up the Shape. The returned value
        may be a single polygon or a list of polygons, depending on the Shape's
        structure.

        :return: The polygon(s) representing the Shape's geometry, either as a
                 single polygon or a list of polygons.
        """
        ...
    
    @functools.cache
    def get_size(self, available_space: typing.Tuple[int, int]) -> typing.Tuple[int, int]:
        """
        Calculate and return the size of the layout element based on available space.

        This function uses the available space to compute the size (width, height)
        of the layout element in points.

        :param available_space: Tuple representing the available space (width, height).
        :return:                Tuple containing the size (width, height) in points.
        """
        ...
    
    def mirror_horizontally(self) -> Shape:
        """
        Return a new Shape that represents a horizontal version of this Shape.

        :return: A new Shape object, horizontally adjusted.
        """
        ...
    
    def mirror_vertically(self) -> Shape:
        """
        Mirror the current Shape vertically.

        :return: A new Shape object that is a vertical mirror image of this Shape.
        """
        ...
    
    def paint(self, available_space: typing.Tuple[int, int, int, int], page: Page) -> None:
        """
        Render the layout element onto the provided page using the available space.

        This function renders the layout element within the given available space on the specified page.

        :param available_space: A tuple representing the available space (left, top, right, bottom).
        :param page:            The Page object on which to render the LayoutElement.
        :return:                None.
        """
        ...
    
    def rotate(self, angle_in_degrees: float) -> Shape:
        """
        Rotate the Shape clockwise by the specified angle in degrees.

        :param angle_in_degrees: The angle in degrees by which to rotate the Shape.
        :return: A new Shape object, rotated by the specified angle.
        """
        ...
    
    def scale_by_factor(self, x_factor: float = ..., y_factor: float = ...) -> Shape:
        """
        Scale this Shape by the given factors along the x and y axes.

        This method scales the Shape horizontally by `x_factor` and vertically by `y_factor`.
        The result is a new Shape object that has been resized according to the provided factors.

        :param x_factor: The scale factor for the x-axis.
        :param y_factor: The scale factor for the y-axis.
        :return: A new Shape object scaled by the given factors.
        """
        ...
    
    def scale_to_fit(self, size: typing.Tuple[int, int]) -> Shape:
        """
        Scale this Shape proportionally to fit within the given (width, height) dimensions.

        The aspect ratio is preserved. The resulting Shape will not exceed the specified
        size in either width or height.

        :param size: A tuple (width, height) representing the maximum allowed dimensions.
        :return: A new Shape instance scaled to fit within the given bounds.
        """
        ...
    
    def smooth(self) -> Shape:
        """
        Apply Chaikin's algorithm to smooth the polygons within this Shape.

        This method processes each polygon in the current Shape using Chaikin's corner-cutting
        algorithm, which reduces sharp angles and smooths the curves. The result is a new
        Shape object where the polygons have a more refined and smoother appearance.

        :return: A new Shape object with smoothed polygons.
        """
        ...
    


